<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{%block title%}Base{%endblock%}</title>
    {% load static %}
    <link rel="stylesheet" href="{% static '/css/base.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
    <nav class="bg-white shadow-md p-4 flex items-center justify-between">
        <div class="flex items-center space-x-4">
            <button id="menuButton" class="p-2 rounded-lg hover:bg-gray-200">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
            <div class="text-xl font-bold">Metan Shop</div>
        </div>
        <div class="flex items-center space-x-2">
            <button class="hidden md:flex bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800">–ö–∞—Ç–∞–ª–æ–≥</button>
            <div class="flex justify-center">
                <input type="text" placeholder="Search..."
                    class="px-4 py-2 border rounded-lg w-40 sm:w-60 md:w-80 focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
        </div>
        <div class="hidden md:flex flex items-center space-x-3">
            <span class="hidden md:inline font-medium">{% if user.is_authenticated %} –ü—Ä–æ—Ñ—ñ–ª—å</span>
            <img src="{{ user.avatar.url }}" alt="Profile" class="w-10 h-10 rounded-full border">
            {% else %} <a class="hover:text-gray-800" href="{% url 'user_auth:login' %}">–£–≤—ñ–π—Ç–∏</a>/<a class="hover:text-gray-800"
                href="{% url 'user_auth:register' %}">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</a>{% endif %}</span>
        </div>
    </nav>


    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden"></div>

    <div id="sidebar"
        class="fixed top-0 left-0 w-64 h-full bg-white shadow-lg transform -translate-x-full transition-transform">
        <div class="p-5 border-b flex justify-between items-center">
            <div class="flex items-center space-x-3">
                {% if user.is_authenticated %}
                <img src="{{ user.avatar.url }}" alt="–§–æ—Ç–æ –ø—Ä–æ—Ñ—ñ–ª—é" class="w-10 h-10 rounded-full">
                <span class="font-semibold">{{user.username}}</span>
                {% else %}
                <span class="font-semibold"><a class="hover:text-gray-800" href="{% url 'user_auth:login' %}">–£–≤—ñ–π—Ç–∏</a>/<a
                        class="hover:text-gray-800" href="{% url 'user_auth:register' %}">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</a></span>
                {% endif %}
            </div>
            <button id="closeMenu" class="text-gray-700 text-xl">‚úñ</button>
        </div>
        <ul class="p-5 space-y-4">
            <li><a href="#" class="block p-2 hover:bg-gray-200 rounded">üì¶ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤</a></li>
            <li><a href="#" class="block p-2 hover:bg-gray-200 rounded">üî• –ê–∫—Ü—ñ—ó</a></li>
            <li><a href="#" class="block p-2 hover:bg-gray-200 rounded">üè∑Ô∏è –ë—Ä–µ–Ω–¥–∏</a></li>
            <hr>
            <li class="text-gray-500 mt-4">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</li>
            <li><a href="#" class="block p-2 hover:bg-gray-200 rounded">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
            <li><a href="#" class="block p-2 hover:bg-gray-200 rounded">–î–æ—Å—Ç–∞–≤–∫–∞ —ñ –æ–ø–ª–∞—Ç–∞</a></li>
            <li><a href="#" class="block p-2 hover:bg-gray-200 rounded">–ü—Ä–æ –º–∞–≥–∞–∑–∏–Ω</a></li>
            <li><a href="#" class="block p-2 hover:bg-gray-200 rounded">–ì–∞—Ä–∞–Ω—Ç—ñ—ó</a></li>
            <hr>
            <li class="text-gray-500 mt-4">–ó–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏</li>
            <li class="text-gray-700">0 800 403 173</li>
            <li class="text-gray-700">063 789 66 52</li>
            <li class="text-gray-700">050 659 01 12</li>
            {% if user.is_authenticated %}
            <hr>
            <li class="mt-auto">
                <form action="{% url 'user_auth:logout' %}" method="post" class="text-white bg-red-600 hover:bg-red-700 px-4 py-2 rounded-full block text-center">
                    {% csrf_token %}
                    <button type="submit">–í–∏–π—Ç–∏</button>
                </form>
            </li>
            {% endif %}
        </ul>
    </div>

    <script>
        const menuButton = document.getElementById("menuButton");
        const sidebar = document.getElementById("sidebar");
        const closeMenu = document.getElementById("closeMenu");
        const overlay = document.getElementById("overlay");

        function openMenu() {
            sidebar.classList.remove("-translate-x-full");
            overlay.classList.remove("hidden");
        }

        function closeMenuHandler() {
            sidebar.classList.add("-translate-x-full");
            overlay.classList.add("hidden");
        }

        menuButton.addEventListener("click", openMenu);
        closeMenu.addEventListener("click", closeMenuHandler);
        overlay.addEventListener("click", closeMenuHandler);
    </script>
</body>

</html>